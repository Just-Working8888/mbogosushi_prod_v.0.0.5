import{b as I,u as g,a as d,x as v,j as s,F as p,ai as z,B as C,f as w,aj as T,h as u,i as k,k as F,ak as P,r as h,l as S,m as B,s as D,H as E}from"./index-CHwHWRri.js";import{f as M,C as e,I as O,D as H}from"./convertProps-tq4Zlo9X.js";const L=({image:r,name:i,description:x,price:c,isNew:j,id:n})=>{const o=I(),a=g();function m(){const t={quantity:1,total:+c,table:Number(localStorage.getItem("table_key")),product:+n};a(T({data:t})).then(()=>{u.success(`–¢–æ–≤–∞—Ä ${i} —É—Å–ø–µ—à–Ω–æ –¥–æ–±–≤–ª–µ–Ω `)})}const{data:f}=d(t=>t.tableCart),l=f.items.find(t=>t.product.id===n);async function b(t){try{await k.deleteTableOrderItemById(t).then(()=>{a(F(t)),a(P({id:Number(localStorage.getItem("table_key"))})),u.success("—Ç–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã")})}catch(y){console.log(y)}}const{tableid:N}=v();return s.jsxs("div",{className:"pizza-card",children:[s.jsxs("div",{onClick:()=>o(`/table/${N}/tablefood/${n}`),className:"image-wrapper",children:[s.jsx("img",{src:r,alt:i,className:"pizza-image"}),j&&s.jsx("span",{className:"new-label",children:"–ù–æ–≤–∏–Ω–∫–∞"})]}),s.jsxs("div",{className:"pizza-info",children:[s.jsx("h3",{className:"pizza-name",children:i}),s.jsx("p",{className:"pizza-description",children:x}),s.jsx("br",{}),s.jsxs(p,{gap:5,justify:"space-between",align:"center",children:[s.jsxs("div",{className:"pizza-price",children:["–æ—Ç ",l?l.quantity*l.product.price:c," —Å–æ–º"]}),l?s.jsxs(p,{children:[s.jsx(z,{record:l}),s.jsx(C,{onClick:()=>b(l.id),danger:!0,style:{width:"32px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"5px"},icon:s.jsx(w,{style:{color:"red"}})})]}):s.jsx("button",{className:"select-button",onClick:m,children:"–í—ã–±—Ä–∞—Ç—å"})]})]})]})},_=()=>{const r=g(),i=d(a=>a.product.data.results),x=d(a=>a.product.data.next),{menuprops:c}=d(a=>a.window),{laoding:j}=d(a=>a.product);function n(){r(D(c.offset+20))}const o="scrollTarget";return h.useEffect(()=>{r(S(o))},[r]),h.useEffect(()=>{r(B({filters:M({menuprops:c})}))},[c]),s.jsx("div",{className:"sushilistsex",children:s.jsx("div",{id:o,className:"pizza-list",style:{paddingTop:"8rem"},children:j?s.jsxs(s.Fragment,{children:[s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{})]}):s.jsx(O,{style:{width:"100%"},dataLength:i.length,next:n,className:"pizza-list",hasMore:x!==null,loader:s.jsxs(s.Fragment,{children:[s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{}),s.jsx(e,{})]}),endMessage:s.jsx(H,{plain:!0,children:"–≠—Ç–æ –≤—Å–µ, –Ω–∏—á–µ–≥–æ –±–æ–ª—å—à–µ. ü§ê"}),scrollableTarget:"scrollableDiv",children:i.map((a,m)=>s.jsx(L,{id:a.id,image:a.iiko_image,name:a.title,description:a.description,price:a.price,isNew:!0},m))})})})},A=()=>s.jsxs(s.Fragment,{children:[s.jsx(E,{children:s.jsx("title",{children:"Mnogosushi | –ì–ª–∞–≤–Ω–∞—è"})}),s.jsx("div",{className:"container",children:s.jsx(_,{})})]});export{A as default};
