import{a as i,I as Ne,_ as Te,C as A,a1 as xe,c as F,a2 as ue,a3 as ge,g as ye,m as ze,r as ae,u as M,a4 as Ce,a5 as He,a6 as Me,a7 as ve,N as Le,a8 as De,a9 as Ae,aa as Fe,J as We,ab as qe,M as Ve,ac as Ge,ad as Xe,t as Se,j as a,d as V,b as le,ae as se,af as $e,ag as Ke,ah as Y,ai as G,aj as Ue,B as D,ak as Qe,al as Ze,am as Je,p as Z,o as L,an as Ye,ao as et,ap as J,e as tt,P as H,aq as je,$ as ot,ar as rt,F as nt,l as pe,X as re,k as at,Y as st,q as it,H as lt}from"./index-igArVeoB.js";var ct={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},dt=function(r,s){return i.createElement(Ne,Te({},r,{ref:s,icon:ct}))},ut=i.forwardRef(dt);const gt=e=>!isNaN(parseFloat(e))&&isFinite(e),ke=i.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}});var pt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const he={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},we=i.createContext({}),ht=(()=>{let e=0;return function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e+=1,`${r}${e}`}})(),Ie=i.forwardRef((e,r)=>{const{prefixCls:s,className:t,trigger:o,children:g,defaultCollapsed:d=!1,theme:u="dark",style:c={},collapsible:p=!1,reverseArrow:m=!1,width:y=200,collapsedWidth:v=80,zeroWidthTriggerStyle:f,breakpoint:n,onCollapse:h,onBreakpoint:x}=e,I=pt(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:C}=i.useContext(ke),[S,B]=i.useState("collapsed"in e?e.collapsed:d),[R,_]=i.useState(!1);i.useEffect(()=>{"collapsed"in e&&B(e.collapsed)},[e.collapsed]);const P=(b,w)=>{"collapsed"in e||B(b),h==null||h(b,w)},N=i.useRef();N.current=b=>{_(b.matches),x==null||x(b.matches),S!==b.matches&&P(b.matches,"responsive")},i.useEffect(()=>{function b($){return N.current($)}let w;if(typeof window<"u"){const{matchMedia:$}=window;if($&&n&&n in he){w=$(`screen and (max-width: ${he[n]})`);try{w.addEventListener("change",b)}catch{w.addListener(b)}b(w)}}return()=>{try{w==null||w.removeEventListener("change",b)}catch{w==null||w.removeListener(b)}}},[n]),i.useEffect(()=>{const b=ht("ant-sider-");return C.addSider(b),()=>C.removeSider(b)},[]);const O=()=>{P(!S,"clickTrigger")},{getPrefixCls:T}=i.useContext(A),k=()=>{const b=T("layout-sider",s),w=xe(I,["collapsed"]),$=S?v:y,l=gt($)?`${$}px`:String($),j=parseFloat(String(v||0))===0?i.createElement("span",{onClick:O,className:F(`${b}-zero-width-trigger`,`${b}-zero-width-trigger-${m?"right":"left"}`),style:f},o||i.createElement(ut,null)):null,E={expanded:m?i.createElement(ue,null):i.createElement(ge,null),collapsed:m?i.createElement(ge,null):i.createElement(ue,null)}[S?"collapsed":"expanded"],oe=o!==null?j||i.createElement("div",{className:`${b}-trigger`,onClick:O,style:{width:l}},o||E):null,U=Object.assign(Object.assign({},c),{flex:`0 0 ${l}`,maxWidth:l,minWidth:l,width:l}),Re=F(b,`${b}-${u}`,{[`${b}-collapsed`]:!!S,[`${b}-has-trigger`]:p&&o!==null&&!j,[`${b}-below`]:!!R,[`${b}-zero-width`]:parseFloat(l)===0},t);return i.createElement("aside",Object.assign({className:Re},w,{style:U,ref:r}),i.createElement("div",{className:`${b}-children`},g),p||R&&j?oe:null)},z=i.useMemo(()=>({siderCollapsed:S}),[S]);return i.createElement(we.Provider,{value:z},k())}),_e=i.createContext(null),bt=_e.Provider,Be=i.createContext(null),ft=Be.Provider,mt=e=>{const{componentCls:r,antCls:s}=e,t=`${r}-group`;return{[t]:Object.assign(Object.assign({},ae(e)),{display:"inline-block",fontSize:0,[`&${t}-rtl`]:{direction:"rtl"},[`${s}-badge ${s}-badge-count`]:{zIndex:1},[`> ${s}-badge:not(:first-child) > ${s}-button-wrapper`]:{borderInlineStart:"none"}})}},xt=e=>{const{componentCls:r,wrapperMarginInlineEnd:s,colorPrimary:t,radioSize:o,motionDurationSlow:g,motionDurationMid:d,motionEaseInOutCirc:u,colorBgContainer:c,colorBorder:p,lineWidth:m,colorBgContainerDisabled:y,colorTextDisabled:v,paddingXS:f,dotColorDisabled:n,lineType:h,radioColor:x,radioBgColor:I,calc:C}=e,S=`${r}-inner`,R=C(o).sub(C(4).mul(2)),_=C(1).mul(o).equal({unit:!0});return{[`${r}-wrapper`]:Object.assign(Object.assign({},ae(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:s,cursor:"pointer",[`&${r}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${r}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${M(m)} ${h} ${t}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[r]:Object.assign(Object.assign({},ae(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${r}-wrapper:hover &,
        &:hover ${S}`]:{borderColor:t},[`${r}-input:focus-visible + ${S}`]:Object.assign({},Ce(e)),[`${r}:hover::after, ${r}-wrapper:hover &::after`]:{visibility:"visible"},[`${r}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:_,height:_,marginBlockStart:C(1).mul(o).div(-2).equal({unit:!0}),marginInlineStart:C(1).mul(o).div(-2).equal({unit:!0}),backgroundColor:x,borderBlockStart:0,borderInlineStart:0,borderRadius:_,transform:"scale(0)",opacity:0,transition:`all ${g} ${u}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:_,height:_,backgroundColor:c,borderColor:p,borderStyle:"solid",borderWidth:m,borderRadius:"50%",transition:`all ${d}`},[`${r}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${r}-checked`]:{[S]:{borderColor:t,backgroundColor:I,"&::after":{transform:`scale(${e.calc(e.dotSize).div(o).equal()})`,opacity:1,transition:`all ${g} ${u}`}}},[`${r}-disabled`]:{cursor:"not-allowed",[S]:{backgroundColor:y,borderColor:p,cursor:"not-allowed","&::after":{backgroundColor:n}},[`${r}-input`]:{cursor:"not-allowed"},[`${r}-disabled + span`]:{color:v,cursor:"not-allowed"},[`&${r}-checked`]:{[S]:{"&::after":{transform:`scale(${C(R).div(o).equal()})`}}}},[`span${r} + *`]:{paddingInlineStart:f,paddingInlineEnd:f}})}},yt=e=>{const{buttonColor:r,controlHeight:s,componentCls:t,lineWidth:o,lineType:g,colorBorder:d,motionDurationSlow:u,motionDurationMid:c,buttonPaddingInline:p,fontSize:m,buttonBg:y,fontSizeLG:v,controlHeightLG:f,controlHeightSM:n,paddingXS:h,borderRadius:x,borderRadiusSM:I,borderRadiusLG:C,buttonCheckedBg:S,buttonSolidCheckedColor:B,colorTextDisabled:R,colorBgContainerDisabled:_,buttonCheckedBgDisabled:P,buttonCheckedColorDisabled:N,colorPrimary:O,colorPrimaryHover:T,colorPrimaryActive:k,buttonSolidCheckedBg:z,buttonSolidCheckedHoverBg:b,buttonSolidCheckedActiveBg:w,calc:$}=e;return{[`${t}-button-wrapper`]:{position:"relative",display:"inline-block",height:s,margin:0,paddingInline:p,paddingBlock:0,color:r,fontSize:m,lineHeight:M($(s).sub($(o).mul(2)).equal()),background:y,border:`${M(o)} ${g} ${d}`,borderBlockStartWidth:$(o).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:o,cursor:"pointer",transition:[`color ${c}`,`background ${c}`,`box-shadow ${c}`].join(","),a:{color:r},[`> ${t}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:$(o).mul(-1).equal(),insetInlineStart:$(o).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:o,paddingInline:0,backgroundColor:d,transition:`background-color ${u}`,content:'""'}},"&:first-child":{borderInlineStart:`${M(o)} ${g} ${d}`,borderStartStartRadius:x,borderEndStartRadius:x},"&:last-child":{borderStartEndRadius:x,borderEndEndRadius:x},"&:first-child:last-child":{borderRadius:x},[`${t}-group-large &`]:{height:f,fontSize:v,lineHeight:M($(f).sub($(o).mul(2)).equal()),"&:first-child":{borderStartStartRadius:C,borderEndStartRadius:C},"&:last-child":{borderStartEndRadius:C,borderEndEndRadius:C}},[`${t}-group-small &`]:{height:n,paddingInline:$(h).sub(o).equal(),paddingBlock:0,lineHeight:M($(n).sub($(o).mul(2)).equal()),"&:first-child":{borderStartStartRadius:I,borderEndStartRadius:I},"&:last-child":{borderStartEndRadius:I,borderEndEndRadius:I}},"&:hover":{position:"relative",color:O},"&:has(:focus-visible)":Object.assign({},Ce(e)),[`${t}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${t}-button-wrapper-disabled)`]:{zIndex:1,color:O,background:S,borderColor:O,"&::before":{backgroundColor:O},"&:first-child":{borderColor:O},"&:hover":{color:T,borderColor:T,"&::before":{backgroundColor:T}},"&:active":{color:k,borderColor:k,"&::before":{backgroundColor:k}}},[`${t}-group-solid &-checked:not(${t}-button-wrapper-disabled)`]:{color:B,background:z,borderColor:z,"&:hover":{color:B,background:b,borderColor:b},"&:active":{color:B,background:w,borderColor:w}},"&-disabled":{color:R,backgroundColor:_,borderColor:d,cursor:"not-allowed","&:first-child, &:hover":{color:R,backgroundColor:_,borderColor:d}},[`&-disabled${t}-button-wrapper-checked`]:{color:N,backgroundColor:P,borderColor:d,boxShadow:"none"}}}},Ct=e=>{const{wireframe:r,padding:s,marginXS:t,lineWidth:o,fontSizeLG:g,colorText:d,colorBgContainer:u,colorTextDisabled:c,controlItemBgActiveDisabled:p,colorTextLightSolid:m,colorPrimary:y,colorPrimaryHover:v,colorPrimaryActive:f,colorWhite:n}=e,h=4,x=g,I=r?x-h*2:x-(h+o)*2;return{radioSize:x,dotSize:I,dotColorDisabled:c,buttonSolidCheckedColor:m,buttonSolidCheckedBg:y,buttonSolidCheckedHoverBg:v,buttonSolidCheckedActiveBg:f,buttonBg:u,buttonCheckedBg:u,buttonColor:d,buttonCheckedBgDisabled:p,buttonCheckedColorDisabled:c,buttonPaddingInline:s-o,wrapperMarginInlineEnd:t,radioColor:r?y:n,radioBgColor:r?u:y}},Pe=ye("Radio",e=>{const{controlOutline:r,controlOutlineWidth:s}=e,t=`0 0 0 ${M(s)} ${r}`,g=ze(e,{radioFocusShadow:t,radioButtonFocusShadow:t});return[mt(g),xt(g),yt(g)]},Ct,{unitless:{radioSize:!0,dotSize:!0}});var vt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const St=(e,r)=>{var s,t;const o=i.useContext(_e),g=i.useContext(Be),{getPrefixCls:d,direction:u,radio:c}=i.useContext(A),p=i.useRef(null),m=He(r,p),{isFormItemInput:y}=i.useContext(Me),v=w=>{var $,l;($=e.onChange)===null||$===void 0||$.call(e,w),(l=o==null?void 0:o.onChange)===null||l===void 0||l.call(o,w)},{prefixCls:f,className:n,rootClassName:h,children:x,style:I,title:C}=e,S=vt(e,["prefixCls","className","rootClassName","children","style","title"]),B=d("radio",f),R=((o==null?void 0:o.optionType)||g)==="button",_=R?`${B}-button`:B,P=ve(B),[N,O,T]=Pe(B,P),k=Object.assign({},S),z=i.useContext(Le);o&&(k.name=o.name,k.onChange=v,k.checked=e.value===o.value,k.disabled=(s=k.disabled)!==null&&s!==void 0?s:o.disabled),k.disabled=(t=k.disabled)!==null&&t!==void 0?t:z;const b=F(`${_}-wrapper`,{[`${_}-wrapper-checked`]:k.checked,[`${_}-wrapper-disabled`]:k.disabled,[`${_}-wrapper-rtl`]:u==="rtl",[`${_}-wrapper-in-form-item`]:y},c==null?void 0:c.className,n,h,O,T,P);return N(i.createElement(De,{component:"Radio",disabled:k.disabled},i.createElement("label",{className:b,style:Object.assign(Object.assign({},c==null?void 0:c.style),I),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:C},i.createElement(Ae,Object.assign({},k,{className:F(k.className,{[Fe]:!R}),type:"radio",prefixCls:_,ref:m})),x!==void 0?i.createElement("span",null,x):null)))},ee=i.forwardRef(St),$t=i.forwardRef((e,r)=>{const{getPrefixCls:s,direction:t}=i.useContext(A),{prefixCls:o,className:g,rootClassName:d,options:u,buttonStyle:c="outline",disabled:p,children:m,size:y,style:v,id:f,optionType:n,name:h,defaultValue:x,value:I,onChange:C,onMouseEnter:S,onMouseLeave:B,onFocus:R,onBlur:_}=e,[P,N]=We(x,{value:I}),O=i.useCallback(E=>{const oe=P,U=E.target.value;"value"in e||N(U),U!==oe&&(C==null||C(E))},[P,N,C]),T=s("radio",o),k=`${T}-group`,z=ve(T),[b,w,$]=Pe(T,z);let l=m;u&&u.length>0&&(l=u.map(E=>typeof E=="string"||typeof E=="number"?i.createElement(ee,{key:E.toString(),prefixCls:T,disabled:p,value:E,checked:P===E},E):i.createElement(ee,{key:`radio-group-value-options-${E.value}`,prefixCls:T,disabled:E.disabled||p,value:E.value,checked:P===E.value,title:E.title,style:E.style,id:E.id,required:E.required},E.label)));const j=qe(y),q=F(k,`${k}-${c}`,{[`${k}-${j}`]:j,[`${k}-rtl`]:t==="rtl"},g,d,w,$,z),K=i.useMemo(()=>({onChange:O,value:P,disabled:p,name:h,optionType:n}),[O,P,p,h,n]);return b(i.createElement("div",Object.assign({},Ve(e,{aria:!0,data:!0}),{className:q,style:v,onMouseEnter:S,onMouseLeave:B,onFocus:R,onBlur:_,id:f,ref:r}),i.createElement(bt,{value:K},l)))}),jt=i.memo($t);var kt=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const wt=(e,r)=>{const{getPrefixCls:s}=i.useContext(A),{prefixCls:t}=e,o=kt(e,["prefixCls"]),g=s("radio",t);return i.createElement(ft,{value:"button"},i.createElement(ee,Object.assign({prefixCls:g},o,{type:"radio",ref:r})))},It=i.forwardRef(wt),X=ee;X.Button=It;X.Group=jt;X.__ANT_RADIO=!0;function _t(e,r,s){return typeof s=="boolean"?s:e.length?!0:Ge(r).some(o=>o.type===Ie)}const Bt=e=>{const{componentCls:r,bodyBg:s,lightSiderBg:t,lightTriggerBg:o,lightTriggerColor:g}=e;return{[`${r}-sider-light`]:{background:t,[`${r}-sider-trigger`]:{color:g,background:o},[`${r}-sider-zero-width-trigger`]:{color:g,background:o,border:`1px solid ${s}`,borderInlineStart:0}}}},Pt=e=>{const{antCls:r,componentCls:s,colorText:t,triggerColor:o,footerBg:g,triggerBg:d,headerHeight:u,headerPadding:c,headerColor:p,footerPadding:m,triggerHeight:y,zeroTriggerHeight:v,zeroTriggerWidth:f,motionDurationMid:n,motionDurationSlow:h,fontSize:x,borderRadius:I,bodyBg:C,headerBg:S,siderBg:B}=e;return{[s]:Object.assign(Object.assign({display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:C,"&, *":{boxSizing:"border-box"},[`&${s}-has-sider`]:{flexDirection:"row",[`> ${s}, > ${s}-content`]:{width:0}},[`${s}-header, &${s}-footer`]:{flex:"0 0 auto"},[`${s}-sider`]:{position:"relative",minWidth:0,background:B,transition:`all ${n}, background 0s`,"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,[`${r}-menu${r}-menu-inline-collapsed`]:{width:"auto"}},"&-has-trigger":{paddingBottom:y},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:y,color:o,lineHeight:M(y),textAlign:"center",background:d,cursor:"pointer",transition:`all ${n}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:u,insetInlineEnd:e.calc(f).mul(-1).equal(),zIndex:1,width:f,height:v,color:o,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:B,borderStartStartRadius:0,borderStartEndRadius:I,borderEndEndRadius:I,borderEndStartRadius:0,cursor:"pointer",transition:`background ${h} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${h}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(f).mul(-1).equal(),borderStartStartRadius:I,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:I}}}}},Bt(e)),{"&-rtl":{direction:"rtl"}}),[`${s}-header`]:{height:u,padding:c,color:p,lineHeight:M(u),background:S,[`${r}-menu`]:{lineHeight:"inherit"}},[`${s}-footer`]:{padding:m,color:t,fontSize:x,background:g},[`${s}-content`]:{flex:"auto",color:t,minHeight:0}}},Et=e=>{const{colorBgLayout:r,controlHeight:s,controlHeightLG:t,colorText:o,controlHeightSM:g,marginXXS:d,colorTextLightSolid:u,colorBgContainer:c}=e,p=t*1.25;return{colorBgHeader:"#001529",colorBgBody:r,colorBgTrigger:"#002140",bodyBg:r,headerBg:"#001529",headerHeight:s*2,headerPadding:`0 ${p}px`,headerColor:o,footerPadding:`${g}px ${p}px`,footerBg:r,siderBg:"#001529",triggerHeight:t+d*2,triggerBg:"#002140",triggerColor:u,zeroTriggerWidth:t,zeroTriggerHeight:t,lightSiderBg:c,lightTriggerBg:c,lightTriggerColor:o}},Ee=ye("Layout",e=>[Pt(e)],Et,{deprecatedTokens:[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]]});var Oe=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};function te(e){let{suffixCls:r,tagName:s,displayName:t}=e;return o=>i.forwardRef((d,u)=>i.createElement(o,Object.assign({ref:u,suffixCls:r,tagName:s},d)))}const ce=i.forwardRef((e,r)=>{const{prefixCls:s,suffixCls:t,className:o,tagName:g}=e,d=Oe(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:u}=i.useContext(A),c=u("layout",s),[p,m,y]=Ee(c),v=t?`${c}-${t}`:c;return p(i.createElement(g,Object.assign({className:F(s||v,o,m,y),ref:r},d)))}),Ot=i.forwardRef((e,r)=>{const{direction:s}=i.useContext(A),[t,o]=i.useState([]),{prefixCls:g,className:d,rootClassName:u,children:c,hasSider:p,tagName:m,style:y}=e,v=Oe(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),f=xe(v,["suffixCls"]),{getPrefixCls:n,layout:h}=i.useContext(A),x=n("layout",g),I=_t(t,c,p),[C,S,B]=Ee(x),R=F(x,{[`${x}-has-sider`]:I,[`${x}-rtl`]:s==="rtl"},h==null?void 0:h.className,d,u,S,B),_=i.useMemo(()=>({siderHook:{addSider:P=>{o(N=>[].concat(Xe(N),[P]))},removeSider:P=>{o(N=>N.filter(O=>O!==P))}}}),[]);return C(i.createElement(ke.Provider,{value:_},i.createElement(m,Object.assign({ref:r,className:R,style:Object.assign(Object.assign({},h==null?void 0:h.style),y)},f),c)))}),Rt=te({tagName:"div",displayName:"Layout"})(Ot),Nt=te({suffixCls:"header",tagName:"header",displayName:"Header"})(ce),Tt=te({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(ce),zt=te({suffixCls:"content",tagName:"main",displayName:"Content"})(ce),W=Rt;W.Header=Nt;W.Footer=Tt;W.Content=zt;W.Sider=Ie;W._InternalSiderContext=we;var de={};Object.defineProperty(de,"__esModule",{value:!0});var ie=de.load=void 0,Q;function Ht(e){if(e===void 0&&(e="https://mapgl.2gis.com/api/js"),typeof window>"u")throw new Error("mapgl is supported only in browser environment");return Q?Promise.resolve(Q):Mt(e).then(function(){return Q=window.mapgl,Q})}ie=de.load=Ht;function Mt(e){return new Promise(function(r,s){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.crossOrigin="anonymous",t.src=e,document.body.appendChild(t),t.addEventListener("load",function(){r()}),t.addEventListener("error",function(o){s(o)})})}const Lt=Se.memo(()=>a.jsx("div",{id:"map-container",style:{width:"100%",height:"300px",borderRadius:"12px",overflow:"hidden"}}),()=>!0),Dt=()=>{const e=V(d=>d.point),[r,s]=i.useState(null),t=Se.useRef(null),o=le(),g=async d=>{const[u,c]=d,m=`https://catalog.api.2gis.com/3.0/items/geocode?lon=${u}&lat=${c}&key=fd0b168d-047a-4bbc-8ccf-5c0f6144a84b`;try{const v=await(await fetch(m)).json();if(v.result&&v.result.items&&v.result.items.length>0){const f=v.result.items[0].full_name;return console.log("Address:",f),o(se(f)),f}else return console.log("Address not found"),"Address not found"}catch(y){return console.error("Error during reverse geocoding:",y),"Error during reverse geocoding"}};return i.useEffect(()=>(ie().then(d=>{const u={center:[74.593379,42.878941],zoom:13,key:"fd0b168d-047a-4bbc-8ccf-5c0f6144a84b"},c=new d.Map("map-container",u);c.on("click",async p=>{const m=[p.lngLat[0],p.lngLat[1]],y=await g(m);console.log("Coordinates:",m),o(se(y)),o($e({data:{lon:`${m[0]}`,lat:`${m[1]}`}})),t.current&&t.current.destroy();const v=new d.Marker(c,{coordinates:m,label:{text:"",offset:[0,-20]}});t.current=v,c.setCenter(m),c.setZoom(17)}),s(c)}),()=>{r&&r.destroy(),t.current&&t.current.destroy()}),[]),i.useEffect(()=>{if(r&&e&&e.adressPoint){const[d,u]=e.adressPoint;r.setCenter([d,u]),r.setZoom(17),t.current&&t.current.destroy(),ie().then(c=>{t.current=new c.Marker(r,{coordinates:e.adressPoint,label:{text:"",offset:[0,-20]}})})}},[r,e]),a.jsx("div",{children:a.jsx(Lt,{})})},{Content:At}=W,{Text:be}=Qe,Ft="fd0b168d-047a-4bbc-8ccf-5c0f6144a84b",fe=[74.4677,42.882],me=[74.6177,42.832],Wt=async(e,r)=>{const s=`https://catalog.api.2gis.ru/3.0/suggests?key=${Ft}&q=${encodeURIComponent(e)}&viewpoint1=${fe[0]},${fe[1]}&viewpoint2=${me[0]},${me[1]}&locale=ru_KG&type=street,branch,building,road,attraction,crossroad,station,station.metro,user_queries&fields=items.point,items.full_name,items.id`,{data:t}=await Y.get(s,{cancelToken:r.token});return t},qt=()=>{var f;const[e,r]=i.useState(""),[s]=Ke(e,30),[t,o]=i.useState(null),[g,d]=i.useState(!1),[u,c]=i.useState(null),[p,m]=i.useState(null);console.log(m),i.useEffect(()=>{if(s.length>2){const n=Y.CancelToken.source();return d(!0),c(null),Wt(s,n).then(h=>{o(h),d(!1)}).catch(h=>{Y.isCancel(h)||(c("Ошибка загрузки данных"),d(!1))}),()=>n.cancel()}},[s,e]);const y=le();function v(n,h){o(null),y(Ze({itemId:+n})),y(se(h)),r(h)}return a.jsxs(W,{children:[a.jsx("br",{}),a.jsx("p",{children:"Введите адрес"}),a.jsx("br",{}),a.jsxs(At,{children:[a.jsx(G,{placeholder:"Поиск по местам в Бишкеке",value:e,onChange:n=>r(n.target.value)}),g&&a.jsx(Ue,{}),u&&a.jsx(be,{type:"danger",children:u}),t&&((f=t==null?void 0:t.result)==null?void 0:f.items.map(n=>a.jsx(D,{onClick:()=>v(n.id,n!=null&&n.full_name?n==null?void 0:n.full_name:n!=null&&n.building_name?n==null?void 0:n.building_name:n!=null&&n.address_name?n==null?void 0:n.address_name:n!=null&&n.name?n==null?void 0:n.name:""),style:{width:"100%"},value:n.id,children:n!=null&&n.full_name?n==null?void 0:n.full_name:n!=null&&n.building_name?n==null?void 0:n.building_name:n!=null&&n.address_name?n==null?void 0:n.address_name:n!=null&&n.name?n==null?void 0:n.name:""},n.id))),p&&a.jsxs(be,{children:["Вы выбрали: ",p]})]})]})},Vt=Je("biling/createBiling",async({data:e},{signal:r,dispatch:s})=>{try{const t=Y.CancelToken.source();r.addEventListener("abort",()=>t.cancel("Operation canceled by the user."));const o=await Z.createBilingItem(e,t.token);L.success(o.data.payment_code+"   Сохраните код оплаты"),localStorage.removeItem("cart_id"),localStorage.removeItem("table_key"),localStorage.removeItem("session_key");const g=localStorage.getItem("session_key"),d=localStorage.getItem("cart_id");return!g&&!d&&s(Ye({data:{session_key:et(),discount_amount:1,promo_code:!1}})).then(u=>{console.log(u),s(J({id:u.payload.id}))}),o.data}catch{L.error("Ошибка сервера")}}),{Option:ne}=je,Gt=()=>{var w,$;const[e,r]=i.useState("Самовывоз"),[s,t]=i.useState(""),[o,g]=i.useState(0);console.log(o);const[d,u]=i.useState(!1),[c,p]=i.useState(0),m=tt(),[y,v]=i.useState("bankCard"),f=le(),{data:n}=V(l=>l.cart),h=V(l=>l.point),x=V(l=>l.delivary),I=n==null?void 0:n.points_used,C=V(l=>l.adresses.adressTitle),S=V(l=>{var j;return((j=l.user.data)==null?void 0:j.loyalty_points)||0});i.useEffect(()=>{const l=localStorage.getItem("cart_id");l&&f(J({id:Number(l)}))},[f]);const B=l=>{r(l.target.value)},R=l=>{v(l)},_=l=>{u(l.target.checked),l.target.checked||p(0)},P=l=>{const j=Number(l.target.value);j>S?(L.error(`Вы не можете использовать больше чем ${S} баллов`),p(S)):p(j)},N=async l=>{try{await Z.deleteCartItemById(l).then(()=>{f(it(l)),L.success("Товар успешно удалён из корзины")})}catch(j){console.log(j)}},O=((w=n.items)==null?void 0:w.reduce((l,j)=>l+parseFloat(j.product.price)*j.quantity,0))||0,T=((($=n.items)==null?void 0:$.reduce((l,j)=>l+parseFloat(j.product.price)*j.quantity,0))||0)-n.discount_amount-c;i.useEffect(()=>{e==="Доставка"&&f($e({data:{lon:`${h.adressPoint[0]}`,lat:`${h.adressPoint[1]}`}}))},[h,C,e]);const k=async l=>{console.log(l);const j=localStorage.getItem("user_id")?{billing_receipt_type:l.billing_receipt_type,user_id:localStorage.getItem("user_id"),delivery_price:x.data.price,street:C,phone:l.phone,payment_method:l.payment_method,note:l.note,status:!0,parent:0,change_price:l.change_price,points_used:Number(I)}:{billing_receipt_type:l.billing_receipt_type,delivery_price:x.data.price,street:C,phone:l.phone,payment_method:l.payment_method,note:l.note,status:!0,parent:0,change_price:l.change_price};f(Vt({data:j})).then(q=>{var K;m(`/code/${(K=q==null?void 0:q.payload)==null?void 0:K.payment_code}`)})},z=async()=>{try{const l=localStorage.getItem("cart_id"),j=await Z.applyPromoCode({cart_id:l,promo_code:s});g(j.data.discount_amount),f(J({id:Number(l)})),L.success(j.data.success)}catch{L.error("Не удалось применить промо-код")}},b=async()=>{try{const l=localStorage.getItem("cart_id"),j=await Z.applyPoints({user_id:localStorage.getItem("user_id"),points_used:Number(c),cart_id:localStorage.getItem("cart_id")});g(j.data.discount_amount),f(J({id:Number(l)})),L.success(j.data.success)}catch{L.error("Не удалось применить промо-код")}};return a.jsxs("div",{className:"order-container",children:[a.jsxs("div",{className:"he",children:[e==="Доставка"&&a.jsxs("div",{className:"address-section",children:[a.jsx("h2",{children:" Адрес доставки"}),a.jsx("br",{}),a.jsxs(a.Fragment,{children:[a.jsx(Dt,{}),a.jsx(qt,{}),a.jsx("br",{})]})]}),a.jsxs("div",{className:"personal-info-section",children:[a.jsx("h2",{children:" Информация"}),a.jsxs(H,{onFinish:k,layout:"vertical",children:[a.jsx(H.Item,{initialValue:"Самовывоз",label:"Тип получения",name:"billing_receipt_type",children:a.jsxs(X.Group,{onChange:B,value:e,children:[a.jsx(X,{value:"Доставка",children:"Доставка"}),a.jsx(X,{value:"Самовывоз",children:"Самовывоз"})]})}),a.jsx(H.Item,{initialValue:"bankCard",label:"Метод оплаты",name:"payment_method",children:a.jsxs(je,{defaultValue:"bankCard",onChange:R,children:[a.jsx(ne,{value:"bankCard",children:"Банковская карта"}),a.jsx(ne,{value:"cash",children:"Наличные"}),a.jsx(ne,{value:"eWallet",children:"Электронный кошелек"})]})}),y==="cash"&&a.jsx(H.Item,{label:"Сдача с",name:"change_price",children:a.jsx(G,{placeholder:"Введите сумму для сдачи"})}),a.jsx(H.Item,{label:"Телефон",name:"phone",initialValue:"+996 ",children:a.jsx(G,{placeholder:"Введите номер телефона"})}),a.jsx(H.Item,{label:"Комментарий к заказу",name:"note",children:a.jsx(G.TextArea,{rows:3,placeholder:"Укажите тут дополнительную информацию для курьера"})}),a.jsx(ot,{fallback:a.jsx(a.Fragment,{}),children:a.jsxs(a.Fragment,{children:[a.jsx(H.Item,{children:a.jsx(rt,{checked:d,onChange:_,children:"Потратить баллы"})}),d&&a.jsxs(H.Item,{name:"points",label:`Доступно баллов: ${S}`,children:[a.jsx(G,{type:"number",value:c,onChange:P,max:S,placeholder:"Количество баллов"}),a.jsx(D,{onClick:b,children:"Использовать баллы"})]})]})}),a.jsx(H.Item,{children:a.jsx(D,{type:"primary",htmlType:"submit",block:!0,children:"Оформить заказ"})})]})]})]}),a.jsxs("div",{className:"order-summary-section he",children:[a.jsxs("div",{className:"",children:[a.jsx("h2",{children:a.jsxs(nt,{justify:"space-between",children:[" Корзина ",a.jsx(D,{icon:a.jsx(pe,{}),className:"clear-cart-btn",children:"Очистить корзину"})]})}),a.jsx(re,{itemLayout:"horizontal",dataSource:n.items,renderItem:l=>a.jsx(re.Item,{actions:[a.jsxs("div",{className:"rightBar",children:[a.jsx(D,{onClick:()=>N(l.id),style:{width:"32px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0px 0px 0px 7px"},type:"text",icon:a.jsx(pe,{style:{color:"red"}}),children:"      "}),a.jsx(at,{record:l})]})],children:a.jsx(re.Item.Meta,{avatar:a.jsx(st,{shape:"square",size:"large",style:{height:"100px",width:"100px"},src:l.product.iiko_image}),title:l.product.title,description:a.jsxs("div",{children:[a.jsx("p",{children:l.product.description}),a.jsxs("span",{style:{color:"red"},children:[parseFloat(l.product.price)*l.quantity," c"]})]})})})})]}),a.jsx("br",{}),!n.promo_code&&a.jsxs("div",{className:"promo-code-section",children:[a.jsx("h3",{children:"Введите промо-код:"}),a.jsx(G,{placeholder:"Введите промо-код",value:s,onChange:l=>t(l.target.value),style:{marginBottom:"10px"}}),a.jsx(D,{type:"primary",onClick:z,block:!0,children:"Применить промо-код"})]}),a.jsx("br",{}),a.jsxs("h3",{children:["Итого: ",T," c"]}),a.jsxs("div",{className:"order-details",children:[a.jsxs("p",{children:["Стоимость товаров: ",O," c"]}),a.jsxs("p",{children:["Скидка: ",n.discount_amount]}),a.jsxs("p",{children:["Потрачено баллов:",n.points_used]}),e==="Доставка"&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["Адресc: ",C," "]}),a.jsxs("p",{children:["Растояние: ",x.data.distanse]}),a.jsxs("p",{children:["Примерное время доставки: ",x.data.time]})]})]}),a.jsx(D,{type:"primary",size:"large",block:!0,children:"Перейти к оплате"})]})]})},Kt=()=>a.jsxs("div",{children:[a.jsx(lt,{children:a.jsx("title",{children:"Mnogosushi | Оформление"})}),a.jsx(Gt,{})]});export{Kt as default};
